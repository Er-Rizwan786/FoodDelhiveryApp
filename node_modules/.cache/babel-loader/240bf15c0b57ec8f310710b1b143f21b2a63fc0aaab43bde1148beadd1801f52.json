{"ast":null,"code":"var _jsxFileName = \"/Users/rizwan/Documents/FoodDelhiveryApp/src/RestaurantsLists.js\",\n  _s = $RefreshSig$();\nimport './App.css';\nimport { useState, useEffect } from 'react';\nimport { buildListingUrl, extractRestaurants, extractSectionTitle } from './api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TopRes = ({\n  data\n}) => {\n  const {\n    name,\n    cloudinaryImageId,\n    avgRating,\n    cuisines = [],\n    areaName\n  } = data.info || {};\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"toprescard\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: `https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,w_660/${cloudinaryImageId}`,\n      alt: name,\n      className: \"deliveryIcons\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"\\u2B50 \", avgRating]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: cuisines.join(', ')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: areaName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 5\n  }, this);\n};\n_c = TopRes;\nconst RestaurantsLists = () => {\n  _s();\n  const [latitude, setLatitude] = useState(28.7041); // numbers, not arrays\n  const [longitude, setLongitude] = useState(77.1025);\n  const [title, setTitle] = useState('');\n  const [list, setList] = useState([]);\n  const [error, setError] = useState('');\n\n  // Get location once on mount\n  useEffect(() => {\n    navigator.geolocation.getCurrentPosition(pos => {\n      setLatitude(pos.coords.latitude);\n      setLongitude(pos.coords.longitude);\n    }, err => {\n      console.warn('Geolocation error:', err === null || err === void 0 ? void 0 : err.message);\n    }, {\n      enableHighAccuracy: true,\n      timeout: 8000\n    });\n  }, []);\n  useEffect(() => {\n    const url = buildListingUrl(latitude, longitude);\n    const load = async () => {\n      try {\n        const res = await fetch(url);\n        const data = await res.json();\n        setTitle(extractSectionTitle(data));\n        setList(extractRestaurants(data));\n      } catch (e) {\n        setError('Failed to load restaurants near you.');\n      }\n    };\n    load();\n  }, [latitude, longitude]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: title || 'Top restaurants near you'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"toprescontainer\",\n      children: list === null || list === void 0 ? void 0 : list.map(each => {\n        var _each$info;\n        return /*#__PURE__*/_jsxDEV(TopRes, {\n          data: each\n        }, each === null || each === void 0 ? void 0 : (_each$info = each.info) === null || _each$info === void 0 ? void 0 : _each$info.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(RestaurantsLists, \"LC6HtnDrZ2qoWrvzkffs0qD641Y=\");\n_c2 = RestaurantsLists;\nexport default RestaurantsLists;\nvar _c, _c2;\n$RefreshReg$(_c, \"TopRes\");\n$RefreshReg$(_c2, \"RestaurantsLists\");","map":{"version":3,"names":["useState","useEffect","buildListingUrl","extractRestaurants","extractSectionTitle","jsxDEV","_jsxDEV","TopRes","data","name","cloudinaryImageId","avgRating","cuisines","areaName","info","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","join","_c","RestaurantsLists","_s","latitude","setLatitude","longitude","setLongitude","title","setTitle","list","setList","error","setError","navigator","geolocation","getCurrentPosition","pos","coords","err","console","warn","message","enableHighAccuracy","timeout","url","load","res","fetch","json","e","map","each","_each$info","id","_c2","$RefreshReg$"],"sources":["/Users/rizwan/Documents/FoodDelhiveryApp/src/RestaurantsLists.js"],"sourcesContent":["import './App.css';\nimport { useState, useEffect } from 'react';\nimport { buildListingUrl, extractRestaurants, extractSectionTitle } from './api';\n\nconst TopRes = ({ data }) => {\n  const { name, cloudinaryImageId, avgRating, cuisines = [], areaName } = data.info || {};\n  return (\n    <div className=\"toprescard\">\n      <img\n        src={`https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,w_660/${cloudinaryImageId}`}\n        alt={name}\n        className=\"deliveryIcons\"\n      />\n      <h3>{name}</h3>\n      <h3>‚≠ê {avgRating}</h3>\n      <h4>{cuisines.join(', ')}</h4>\n      <h4>{areaName}</h4>\n    </div>\n  );\n};\n\nconst RestaurantsLists = () => {\n  const [latitude, setLatitude] = useState(28.7041);   // numbers, not arrays\n  const [longitude, setLongitude] = useState(77.1025);\n  const [title, setTitle] = useState('');\n  const [list, setList] = useState([]);\n  const [error, setError] = useState('');\n\n  // Get location once on mount\n  useEffect(() => {\n    navigator.geolocation.getCurrentPosition(\n      (pos) => {\n        setLatitude(pos.coords.latitude);\n        setLongitude(pos.coords.longitude);\n      },\n      (err) => {\n        console.warn('Geolocation error:', err?.message);\n      },\n      { enableHighAccuracy: true, timeout: 8000 }\n    );\n  }, []);\n\n  useEffect(() => {\n    const url = buildListingUrl(latitude, longitude);\n    const load = async () => {\n      try {\n        const res = await fetch(url);\n        const data = await res.json();\n        setTitle(extractSectionTitle(data));\n        setList(extractRestaurants(data));\n      } catch (e) {\n        setError('Failed to load restaurants near you.');\n      }\n    };\n    load();\n  }, [latitude, longitude]);\n\n  return (\n    <div>\n      <h3>{title || 'Top restaurants near you'}</h3>\n      {error && <p>{error}</p>}\n      <div className=\"toprescontainer\">\n        {list?.map(each => (\n          <TopRes data={each} key={each?.info?.id} />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default RestaurantsLists;"],"mappings":";;AAAA,OAAO,WAAW;AAClB,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,eAAe,EAAEC,kBAAkB,EAAEC,mBAAmB,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjF,MAAMC,MAAM,GAAGA,CAAC;EAAEC;AAAK,CAAC,KAAK;EAC3B,MAAM;IAAEC,IAAI;IAAEC,iBAAiB;IAAEC,SAAS;IAAEC,QAAQ,GAAG,EAAE;IAAEC;EAAS,CAAC,GAAGL,IAAI,CAACM,IAAI,IAAI,CAAC,CAAC;EACvF,oBACER,OAAA;IAAKS,SAAS,EAAC,YAAY;IAAAC,QAAA,gBACzBV,OAAA;MACEW,GAAG,EAAE,oFAAoFP,iBAAiB,EAAG;MAC7GQ,GAAG,EAAET,IAAK;MACVM,SAAS,EAAC;IAAe;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1B,CAAC,eACFhB,OAAA;MAAAU,QAAA,EAAKP;IAAI;MAAAU,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACfhB,OAAA;MAAAU,QAAA,GAAI,SAAE,EAACL,SAAS;IAAA;MAAAQ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACtBhB,OAAA;MAAAU,QAAA,EAAKJ,QAAQ,CAACW,IAAI,CAAC,IAAI;IAAC;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAC9BhB,OAAA;MAAAU,QAAA,EAAKH;IAAQ;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAChB,CAAC;AAEV,CAAC;AAACE,EAAA,GAfIjB,MAAM;AAiBZ,MAAMkB,gBAAgB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC7B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAG5B,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAG;EACrD,MAAM,CAAC6B,SAAS,EAAEC,YAAY,CAAC,GAAG9B,QAAQ,CAAC,OAAO,CAAC;EACnD,MAAM,CAAC+B,KAAK,EAAEC,QAAQ,CAAC,GAAGhC,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACiC,IAAI,EAAEC,OAAO,CAAC,GAAGlC,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACmC,KAAK,EAAEC,QAAQ,CAAC,GAAGpC,QAAQ,CAAC,EAAE,CAAC;;EAEtC;EACAC,SAAS,CAAC,MAAM;IACdoC,SAAS,CAACC,WAAW,CAACC,kBAAkB,CACrCC,GAAG,IAAK;MACPZ,WAAW,CAACY,GAAG,CAACC,MAAM,CAACd,QAAQ,CAAC;MAChCG,YAAY,CAACU,GAAG,CAACC,MAAM,CAACZ,SAAS,CAAC;IACpC,CAAC,EACAa,GAAG,IAAK;MACPC,OAAO,CAACC,IAAI,CAAC,oBAAoB,EAAEF,GAAG,aAAHA,GAAG,uBAAHA,GAAG,CAAEG,OAAO,CAAC;IAClD,CAAC,EACD;MAAEC,kBAAkB,EAAE,IAAI;MAAEC,OAAO,EAAE;IAAK,CAC5C,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN9C,SAAS,CAAC,MAAM;IACd,MAAM+C,GAAG,GAAG9C,eAAe,CAACyB,QAAQ,EAAEE,SAAS,CAAC;IAChD,MAAMoB,IAAI,GAAG,MAAAA,CAAA,KAAY;MACvB,IAAI;QACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACH,GAAG,CAAC;QAC5B,MAAMxC,IAAI,GAAG,MAAM0C,GAAG,CAACE,IAAI,CAAC,CAAC;QAC7BpB,QAAQ,CAAC5B,mBAAmB,CAACI,IAAI,CAAC,CAAC;QACnC0B,OAAO,CAAC/B,kBAAkB,CAACK,IAAI,CAAC,CAAC;MACnC,CAAC,CAAC,OAAO6C,CAAC,EAAE;QACVjB,QAAQ,CAAC,sCAAsC,CAAC;MAClD;IACF,CAAC;IACDa,IAAI,CAAC,CAAC;EACR,CAAC,EAAE,CAACtB,QAAQ,EAAEE,SAAS,CAAC,CAAC;EAEzB,oBACEvB,OAAA;IAAAU,QAAA,gBACEV,OAAA;MAAAU,QAAA,EAAKe,KAAK,IAAI;IAA0B;MAAAZ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,EAC7Ca,KAAK,iBAAI7B,OAAA;MAAAU,QAAA,EAAImB;IAAK;MAAAhB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACxBhB,OAAA;MAAKS,SAAS,EAAC,iBAAiB;MAAAC,QAAA,EAC7BiB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEqB,GAAG,CAACC,IAAI;QAAA,IAAAC,UAAA;QAAA,oBACblD,OAAA,CAACC,MAAM;UAACC,IAAI,EAAE+C;QAAK,GAAMA,IAAI,aAAJA,IAAI,wBAAAC,UAAA,GAAJD,IAAI,CAAEzC,IAAI,cAAA0C,UAAA,uBAAVA,UAAA,CAAYC,EAAE;UAAAtC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA,CAC5C;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACI,EAAA,CA/CID,gBAAgB;AAAAiC,GAAA,GAAhBjC,gBAAgB;AAiDtB,eAAeA,gBAAgB;AAAC,IAAAD,EAAA,EAAAkC,GAAA;AAAAC,YAAA,CAAAnC,EAAA;AAAAmC,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}