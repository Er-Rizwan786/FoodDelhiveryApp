{"ast":null,"code":"var _jsxFileName = \"/Users/rizwan/Documents/FoodDelhiveryApp/src/context.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/context.js\n\nimport React, { createContext, useContext, useMemo, useReducer, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AppContext = /*#__PURE__*/createContext(null);\nconst initialState = {\n  cart: [] // {id, name, price, cloudinaryImageId, qty}\n};\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'ADD_TO_CART':\n      {\n        const item = action.payload;\n        const exists = state.cart.find(i => i.id === item.id);\n        const cart = exists ? state.cart.map(i => i.id === item.id ? {\n          ...i,\n          qty: i.qty + 1\n        } : i) : [...state.cart, {\n          ...item,\n          qty: 1\n        }];\n        return {\n          ...state,\n          cart\n        };\n      }\n    case 'REMOVE_FROM_CART':\n      {\n        const id = action.payload;\n        return {\n          ...state,\n          cart: state.cart.filter(i => i.id !== id)\n        };\n      }\n    case 'DECREMENT_ITEM':\n      {\n        const id = action.payload;\n        const cart = state.cart.map(i => i.id === id ? {\n          ...i,\n          qty: i.qty - 1\n        } : i).filter(i => i.qty > 0);\n        return {\n          ...state,\n          cart\n        };\n      }\n    case 'CLEAR_CART':\n      return {\n        ...state,\n        cart: []\n      };\n    default:\n      return state;\n  }\n}\nexport const AppProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [user, setUser] = useState(null);\n  const [isSignInPanelOpen, setIsSignInPanelOpen] = useState(false);\n  const addToCart = item => {\n    // Log the item to see if it's being passed correctly\n    console.log('Item added to cart:', item);\n    dispatch({\n      type: 'ADD_TO_CART',\n      payload: item\n    });\n  };\n  const removeFromCart = id => dispatch({\n    type: 'REMOVE_FROM_CART',\n    payload: id\n  });\n  const decrementItem = id => dispatch({\n    type: 'DECREMENT_ITEM',\n    payload: id\n  });\n  const clearCart = () => dispatch({\n    type: 'CLEAR_CART'\n  });\n  const login = userData => {\n    setIsLoggedIn(true);\n    setUser(userData);\n  };\n  const logout = () => {\n    setIsLoggedIn(false);\n    setUser(null);\n  };\n  const openSignInPanel = () => setIsSignInPanelOpen(true);\n  const closeSignInPanel = () => setIsSignInPanelOpen(false);\n  const cartCount = useMemo(() => state.cart.reduce((sum, i) => sum + i.qty, 0), [state.cart]);\n  const value = {\n    cart: state.cart,\n    cartCount,\n    addToCart,\n    removeFromCart,\n    decrementItem,\n    clearCart,\n    searchTerm,\n    setSearchTerm,\n    isLoggedIn,\n    user,\n    login,\n    logout,\n    isSignInPanelOpen,\n    openSignInPanel,\n    closeSignInPanel\n  };\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 10\n  }, this);\n};\n_s(AppProvider, \"fJkynNpUkXsglWRW5Uo0N75d1sw=\");\n_c = AppProvider;\nexport const useApp = () => {\n  _s2();\n  return useContext(AppContext);\n};\n_s2(useApp, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"AppProvider\");","map":{"version":3,"names":["React","createContext","useContext","useMemo","useReducer","useState","jsxDEV","_jsxDEV","AppContext","initialState","cart","reducer","state","action","type","item","payload","exists","find","i","id","map","qty","filter","AppProvider","children","_s","dispatch","searchTerm","setSearchTerm","isLoggedIn","setIsLoggedIn","user","setUser","isSignInPanelOpen","setIsSignInPanelOpen","addToCart","console","log","removeFromCart","decrementItem","clearCart","login","userData","logout","openSignInPanel","closeSignInPanel","cartCount","reduce","sum","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useApp","_s2","$RefreshReg$"],"sources":["/Users/rizwan/Documents/FoodDelhiveryApp/src/context.js"],"sourcesContent":["// src/context.js\n\nimport React, { createContext, useContext, useMemo, useReducer, useState } from 'react';\n\nconst AppContext = createContext(null);\n\nconst initialState = {\n  cart: [], // {id, name, price, cloudinaryImageId, qty}\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'ADD_TO_CART': {\n      const item = action.payload;\n      const exists = state.cart.find(i => i.id === item.id);\n      const cart = exists\n        ? state.cart.map(i => (i.id === item.id ? { ...i, qty: i.qty + 1 } : i))\n        : [...state.cart, { ...item, qty: 1 }];\n      return { ...state, cart };\n    }\n    case 'REMOVE_FROM_CART': {\n      const id = action.payload;\n      return { ...state, cart: state.cart.filter(i => i.id !== id) };\n    }\n    case 'DECREMENT_ITEM': {\n      const id = action.payload;\n      const cart = state.cart\n        .map(i => (i.id === id ? { ...i, qty: i.qty - 1 } : i))\n        .filter(i => i.qty > 0);\n      return { ...state, cart };\n    }\n    case 'CLEAR_CART':\n      return { ...state, cart: [] };\n    default:\n      return state;\n  }\n}\n\nexport const AppProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [user, setUser] = useState(null);\n  const [isSignInPanelOpen, setIsSignInPanelOpen] = useState(false);\n\n  const addToCart = (item) => {\n    // Log the item to see if it's being passed correctly\n    console.log('Item added to cart:', item);\n    dispatch({ type: 'ADD_TO_CART', payload: item });\n  };\n  const removeFromCart = (id) => dispatch({ type: 'REMOVE_FROM_CART', payload: id });\n  const decrementItem = (id) => dispatch({ type: 'DECREMENT_ITEM', payload: id });\n  const clearCart = () => dispatch({ type: 'CLEAR_CART' });\n\n  const login = (userData) => {\n    setIsLoggedIn(true);\n    setUser(userData);\n  };\n  const logout = () => {\n    setIsLoggedIn(false);\n    setUser(null);\n  };\n\n  const openSignInPanel = () => setIsSignInPanelOpen(true);\n  const closeSignInPanel = () => setIsSignInPanelOpen(false);\n\n  const cartCount = useMemo(() => state.cart.reduce((sum, i) => sum + i.qty, 0), [state.cart]);\n\n  const value = {\n    cart: state.cart,\n    cartCount,\n    addToCart,\n    removeFromCart,\n    decrementItem,\n    clearCart,\n    searchTerm,\n    setSearchTerm,\n    isLoggedIn,\n    user,\n    login,\n    logout,\n    isSignInPanelOpen,\n    openSignInPanel,\n    closeSignInPanel,\n  };\n\n  return <AppContext.Provider value={value}>{children}</AppContext.Provider>;\n};\n\nexport const useApp = () => useContext(AppContext);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}